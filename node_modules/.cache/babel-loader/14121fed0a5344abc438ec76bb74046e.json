{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\thanh\\\\OneDrive\\\\M\\xE1y t\\xEDnh\\\\vilushop\\\\client\\\\src\\\\components\\\\categories\\\\Categories.jsx\",\n    _s = $RefreshSig$();\n\nimport { makeStyles } from '@material-ui/core';\nimport Button from '@material-ui/core/Button';\nimport axios from 'axios';\nimport React, { useContext, useState } from 'react';\nimport { GlobalState } from '../../GlobalState';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  btn: {\n    marginLeft: theme.spacing(2)\n  },\n  createBtn: {\n    padding: '16px',\n    marginLeft: theme.spacing(2)\n  }\n}));\n\nfunction Categories() {\n  _s();\n\n  const classes = useStyles();\n  const state = useContext(GlobalState);\n  const [token] = state.token;\n  const [categories] = state.categoriesApi.categories;\n  const [category, setCategory] = useState('');\n  const [callback, setCallback] = state.categoriesApi.callback;\n  const [onEdit, setOnEdit] = useState(false);\n  const [id, setId] = useState(false);\n\n  const handleCreateCategory = async e => {\n    e.preventDefault();\n\n    try {\n      if (onEdit) {\n        const res = await axios.put(`/api/category/${id}`, {\n          name: category\n        }, {\n          headers: {\n            Authorization: token\n          }\n        });\n        alert(res.data.msg);\n      } else {\n        const res = await axios.post('/api/category', {\n          name: category\n        }, {\n          headers: {\n            Authorization: token\n          }\n        });\n        alert(res.data.msg);\n      }\n\n      setCategory('');\n      setOnEdit(false);\n      setCallback(!callback);\n    } catch (err) {\n      alert(err.response.data.msg);\n    }\n  };\n\n  const handleEdit = async (id, name) => {\n    setId(id);\n    setCategory(name);\n    setOnEdit(true);\n  };\n\n  const handleDelete = async id => {\n    try {\n      const res = await axios.delete(`/api/category/${id}`, {\n        headers: {\n          Authorization: token\n        }\n      });\n      alert(res.data.msg);\n      setCallback(!callback);\n    } catch (err) {\n      alert(err.response.data.msg);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-2xl flex flex-wrap justify-around my-7 mx-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleCreateCategory,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"category\",\n        value: category,\n        required: true,\n        onChange: e => setCategory(e.target.value),\n        className: \"p-4 border border-gray-600 rounded\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        className: classes.createBtn,\n        type: \"submit\",\n        children: onEdit ? 'Save' : 'Create'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"\",\n      children: categories.map(category => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex min-w-max justify-between items-center my-2 p-3 border border-gray-500\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: category.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: \"primary\",\n            size: \"small\",\n            className: classes.btn,\n            onClick: () => handleEdit(category._id, category.name),\n            children: \"Edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: \"primary\",\n            size: \"small\",\n            className: classes.btn,\n            onClick: () => handleDelete(category._id),\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 29\n        }, this)]\n      }, category._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 25\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Categories, \"le2/gTj7/qZjAEYyqAH8xjcM+bo=\", false, function () {\n  return [useStyles];\n});\n\n_c = Categories;\nexport default Categories;\n\nvar _c;\n\n$RefreshReg$(_c, \"Categories\");","map":{"version":3,"sources":["C:/Users/thanh/OneDrive/Máy tính/vilushop/client/src/components/categories/Categories.jsx"],"names":["makeStyles","Button","axios","React","useContext","useState","GlobalState","useStyles","theme","btn","marginLeft","spacing","createBtn","padding","Categories","classes","state","token","categories","categoriesApi","category","setCategory","callback","setCallback","onEdit","setOnEdit","id","setId","handleCreateCategory","e","preventDefault","res","put","name","headers","Authorization","alert","data","msg","post","err","response","handleEdit","handleDelete","delete","target","value","map","_id"],"mappings":"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","sourcesContent":["import { makeStyles } from '@material-ui/core';\r\nimport Button from '@material-ui/core/Button';\r\nimport axios from 'axios';\r\nimport React, { useContext, useState } from 'react';\r\nimport { GlobalState } from '../../GlobalState';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    btn: {\r\n        marginLeft: theme.spacing(2),\r\n    },\r\n\r\n    createBtn: {\r\n        padding: '16px',\r\n        marginLeft: theme.spacing(2),\r\n    }\r\n}))\r\n\r\nfunction Categories() {\r\n    const classes = useStyles();\r\n    const state = useContext(GlobalState);\r\n    const [token] = state.token;\r\n    const [categories] = state.categoriesApi.categories;\r\n    const [category, setCategory] = useState('');\r\n    const [callback, setCallback] = state.categoriesApi.callback;\r\n    const [onEdit, setOnEdit] = useState(false);\r\n    const [id, setId] = useState(false);\r\n\r\n    const handleCreateCategory = async (e) => {\r\n        e.preventDefault();\r\n        \r\n        try {\r\n            if (onEdit) {\r\n                const res = await axios.put(`/api/category/${id}`, {name: category}, {\r\n                    headers: {Authorization: token}\r\n                })\r\n    \r\n                alert(res.data.msg);\r\n            } else {\r\n                const res = await axios.post('/api/category', {name: category}, {\r\n                    headers: {Authorization: token}\r\n                })\r\n    \r\n                alert(res.data.msg);\r\n            }\r\n            \r\n            setCategory(''); \r\n            setOnEdit(false);\r\n            setCallback(!callback); \r\n        } catch (err) {\r\n            alert(err.response.data.msg);\r\n        }\r\n    }\r\n\r\n    const handleEdit = async (id, name) => {\r\n        setId(id);\r\n        setCategory(name);\r\n        setOnEdit(true);\r\n    }\r\n    \r\n    const handleDelete = async (id) => {\r\n        try {\r\n            const res = await axios.delete(`/api/category/${id}`, {\r\n                headers: {Authorization: token}\r\n            })\r\n            alert(res.data.msg)\r\n            setCallback(!callback)\r\n        } catch (err) {\r\n            alert(err.response.data.msg)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"max-w-2xl flex flex-wrap justify-around my-7 mx-auto\">\r\n            <form onSubmit={handleCreateCategory}>\r\n                <input \r\n                    type=\"text\" name=\"category\" value={category} required\r\n                    onChange={e => setCategory(e.target.value)}\r\n                    className=\"p-4 border border-gray-600 rounded\"\r\n                />\r\n                \r\n                <Button variant=\"contained\" color=\"primary\" className={classes.createBtn} type=\"submit\">\r\n                    {onEdit ? 'Save' : 'Create'}\r\n                </Button>\r\n            </form>\r\n\r\n            <div className=\"\">\r\n                {\r\n                    categories.map(category => (\r\n                        <div key={category._id} className=\"flex min-w-max justify-between items-center my-2 p-3 border border-gray-500\">\r\n                            <p>{category.name}</p>\r\n                            <div className=\"\">\r\n                                <Button \r\n                                    variant=\"contained\" \r\n                                    color=\"primary\" \r\n                                    size=\"small\" \r\n                                    className={classes.btn}\r\n                                    onClick={() => handleEdit(category._id, category.name)}\r\n                                >\r\n                                    Edit\r\n                                </Button>\r\n\r\n                                <Button \r\n                                    variant=\"contained\" \r\n                                    color=\"primary\" \r\n                                    size=\"small\" \r\n                                    className={classes.btn}\r\n                                    onClick={() => handleDelete(category._id)}\r\n                                >\r\n                                    Delete\r\n                                </Button>\r\n                            </div>\r\n                        </div>\r\n                    ))\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Categories\r\n"]},"metadata":{},"sourceType":"module"}